<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <!-- <script src="https://code.jquery.com/jquery-4.0.0.js"></script> -->
  
</head>
<body>
  <div id="wrap">
    <h1>탐색 선택자 및 html조작</h1>
    <h2>탐색 선택자</h2>
    <ul id="list1">
      <li>리스트1</li>
      <li>리스트2</li>
      <li>리스트3</li>
      <li>리스트4</li>
      <li>리스트5</li>
      <li>리스트6</li>
      <li>리스트7</li>
    </ul>
    <ul id="list2">
      <li>리스트8</li>
      <li class="theObj">리스트9</li>
      <li><span>리스트10</span></li>
      <li>리스트11</li>
      <li><a href="#">리스트12</a></li>
      <li>리스트13</li>
      <li>리스트14</li>
    </ul>
  
    <h2 class="theTitle">html 조작</h2>
    <ul id="list3">
      <li class="obj1">list_2</li>
      <li>list_3</li>
      <li>list_4</li>
      <li>list_5</li>
    </ul>
  </div>
</body>
</html>

<script>
  // jQuery to Vanilla JS 변환 - 탐색 선택자 및 HTML 조작

  document.addEventListener('DOMContentLoaded', function () {
    const list1 = document.getElementById('list1');
    const list2 = document.getElementById('list2');
    const list3 = document.getElementById('list3');

    // 1. li 요소 중 홀수 인덱스만 선택 후 배경 노란색 (첫 번째가 0)
    // jQuery: $("#list1 li:odd").css("background", "yellow");
    const list1Items = list1.querySelectorAll('li');
    list1Items.forEach(function (li, index) {
      if (index % 2 === 1) { // 홀수 인덱스 (1, 3, 5, ...)
        li.style.background = 'yellow';
      }
    });

    // 2. li 요소 중 짝수 인덱스만 선택 후 배경 회색 (첫 번째가 0)
    // jQuery: $("#list1 li:even").css("background", "gray");
    list1Items.forEach(function (li, index) {
      if (index % 2 === 0) { // 짝수 인덱스 (0, 2, 4, ...)
        li.style.background = 'gray';
      }
    });

    // 3. id="list1"인 요소에 <li> 요소 중 첫 번째 <li> 요소만 선택 후 폰트색상 적용
    // jQuery: $("#list1 li:first").css("color", "red");
    const firstLi = list1.querySelector('li:first-child');
    if (firstLi) {
      firstLi.style.color = 'red';
    }

    // 4. id="list1"인 요소에 <li> 요소 중 마지막 번째 <li> 요소만 선택 후 폰트색상 적용
    // jQuery: $("#list1 li:last").css("color", "green");
    const lastLi = list1.querySelector('li:last-child');
    if (lastLi) {
      lastLi.style.color = 'green';
    }

    // 5. eq(1) - 인덱스 번호가 1번과 같은 (인덱스 번호는 0, 1, 2, 3, 4...)
    // jQuery: $("#list1 li").eq(1).css('font-style', 'italic');
    if (list1Items[1]) {
      list1Items[1].style.fontStyle = 'italic';
    }

    // 6. lt(2) - less than, 인덱스 번호 2번보다 작은 즉 인덱스 번호 0, 1에 하늘색 점선
    // jQuery: $("#list1 li:lt(2)").css("border", "dotted 2px aqua");
    list1Items.forEach(function (li, index) {
      if (index < 2) {
        li.style.border = 'dotted 2px aqua';
      }
    });

    // 7. gt(2) - great than, 인덱스 번호 2번보다 큰 즉 인덱스 번호 3, 4, 5에 보라색 점선
    // jQuery: $("#list1 li:gt(2)").css("border", "dotted 2px purple");
    list1Items.forEach(function (li, index) {
      if (index > 2) {
        li.style.border = 'dotted 2px purple';
      }
    });

    // 8. li 중 '리스트11'이라는 글자가 포함된 li 요소만 선택
    // jQuery: $("#list2 li:contains('리스트11')").css("color", "red");
    const list2Items = list2.querySelectorAll('li');
    list2Items.forEach(function (li) {
      if (li.textContent.includes('리스트11')) {
        li.style.color = 'red';
      }
    });

    // 9. id="list2"인 요소에 <li> 요소 중 태그 <span>이 포함된 <li> 요소만 선택
    // jQuery: $("#list2 li:has('span')").css("color", "aqua");
    list2Items.forEach(function (li) {
      if (li.querySelector('span')) {
        li.style.color = 'aqua';
      }
    });

    // 10. id="list2"인 요소에 <li> 요소 중에 하위 요소 <a> 요소만 선택
    // jQuery: $("#list2 li").find("a").css("background-color", "red");
    const list2Links = list2.querySelectorAll('li a');
    list2Links.forEach(function (link) {
      link.style.backgroundColor = 'red';
    });

    // 11. .theTitle 요소의 HTML 내용 변경
    // jQuery: $(".theTitle").html("<a href='#'>요소 객체 조작</a>");
    const theTitle = document.querySelector('.theTitle');
    if (theTitle) {
      theTitle.innerHTML = "<a href='#'>요소 객체 조작</a>";
    }

    // 12. .obj1 요소의 텍스트 변경
    // jQuery: $(".obj1").text("리스트_2");
    const obj1 = document.querySelector('.obj1');
    if (obj1) {
      obj1.textContent = '리스트_2';
    }

    // 13. id="list3"인 요소에 마지막 위치에 새 요소를 추가합니다.
    // jQuery: $("#list3").append("<li>list_6</li>");
    const newLi1 = document.createElement('li');
    newLi1.textContent = 'list_6';
    list3.appendChild(newLi1);

    // 14. id="list3"인 요소에 첫 위치에 새 요소를 추가합니다.
    // jQuery: $("#list3").prepend("<li>list_1</li>");
    const newLi2 = document.createElement('li');
    newLi2.textContent = 'list_1';
    list3.insertBefore(newLi2, list3.firstChild);

    // 15. id="list3"인 5번째 li 요소 이전에 새 요소를 추가합니다.
    // jQuery: $("<li>insertBefore<li>").insertBefore($('#list3 li').eq(4));
    const list3Items = list3.querySelectorAll('li');
    if (list3Items[4]) {
      const insertBeforeLi = document.createElement('li');
      insertBeforeLi.textContent = 'insertBefore';
      list3.insertBefore(insertBeforeLi, list3Items[4]);
    }

    // 16. id="list3"인 6번째 li 요소 이후에 새 요소를 추가합니다.
    // jQuery: $("<li>insertAfter</li>").insertAfter($("#list3 li").eq(5));
    const list3ItemsAfter = list3.querySelectorAll('li'); // 다시 선택 (위에서 추가했으므로)
    if (list3ItemsAfter[5]) {
      const insertAfterLi = document.createElement('li');
      insertAfterLi.textContent = 'insertAfter';
      // insertAfter는 직접 메서드가 없으므로 다음 형제 앞에 삽입
      if (list3ItemsAfter[5].nextSibling) {
        list3.insertBefore(insertAfterLi, list3ItemsAfter[5].nextSibling);
      } else {
        list3.appendChild(insertAfterLi);
      }
    }

    // 17. .obj1 요소를 복제하여 #list3에 추가
    // jQuery: $('.obj1').clone().appendTo("#list3");
    const obj1Clone = document.querySelector('.obj1');
    if (obj1Clone) {
      const cloned = obj1Clone.cloneNode(true); // true = 자식 요소도 복제
      list3.appendChild(cloned);
    }

    // 18. 속성 가져오기
    // jQuery: var k = $('#list3 li').eq(0).attr('class');
    const list3ItemsFinal = list3.querySelectorAll('li');
    if (list3ItemsFinal[0]) {
      const k = list3ItemsFinal[0].getAttribute('class');
      console.log(k);

      // 19. 속성 설정
      // jQuery: $('#list3 li').eq(0).attr('class', 'obj2');
      list3ItemsFinal[0].setAttribute('class', 'obj2');

      // 20. 스타일 적용
      // jQuery: $('.obj2').css('background-color', 'yellow');
      const obj2Elements = document.querySelectorAll('.obj2');
      obj2Elements.forEach(function (el) {
        el.style.backgroundColor = 'yellow';
      });

      // 21. 클래스 추가
      // jQuery: $('#list3 li').eq(0).addClass("obj3");
      list3ItemsFinal[0].classList.add('obj3');
    }
  });


</script>