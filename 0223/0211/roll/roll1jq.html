<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-4.0.0.js"></script>
<style>
*{margin: 0; padding: 0;}
li{
  list-style: none;
  float: left;
  width: 80px;
}

h1{
  text-align: center;
}

#banner_wrap{
  width: 260px;
  padding: 10px 20px;
  margin: 0 auto;
  border: 1px solid #333;
}

#banner{
  width: 800px;
  height: 54px;
  border: 1px solid red;
}

#frame{
  width: 232px;
  height: 54px;
  position: relative;
  margin: 10px auto;
  border: 1px solid blue;
  /* overflow: hidden; */
}


</style>
</head>
<body>
  <h1>롤링 슬라이드 배너 만들기</h1>
  <div id="banner_wrap">
    <div id="frame">
      <ul id="banner">
        <li><a href="#"><img src="images/pic_t1.jpg" alt=""></a></li>
        <li><a href="#"><img src="images/pic_t2.jpg" alt=""></a></li>
        <li><a href="#"><img src="images/pic_t3.jpg" alt=""></a></li>
        <li><a href="#"><img src="images/pic_t4.jpg" alt=""></a></li>
        <li><a href="#"><img src="images/pic_t5.jpg" alt=""></a></li>
      </ul>
    </div>
    <p>
      <a href="#" class="prev"><img src="images/prev_btn.png" alt=""></a>
      <a href="#" class="next"><img src="images/next_btn.png" alt=""></a>
    </p>
  </div>
<script>
 
  let total = $('#banner li').length; //5 
  let li_width = $('#banner>li').eq(0).width(); //80

  let copy1 = $('#banner>li:lt(3)').clone();
  $('#banner').append(copy1); //#banner 맨 뒤로 복사 (0,1,2) 추가

  let num = 0;
  
  $('.next').click(function(e){
    e.preventDefault();
    if(num === total){
      num = 0;
      $('#banner').css('margin-left','0');

    }
    num++;
    $('#banner').stop().animate({'margin-left':-li_width * num},500);
  });

  $('.prev').click(function(e){
    e.preventDefault();
    if(num === 0){
      num = total;
      $('#banner').css('margin-left',-li_width * num);
    }
    num--;
    $('#banner').stop().animate({'margin-left':-li_width * num},500);

  });

  

  //자동 슬라이드
  function autoPlay(){
    if (num === total) {
      num = 0;
      $('#banner').css('margin-left', '0');

    }
    num++;
    $('#banner').stop().animate({ 'margin-left': -li_width * num }, 500);
  }
  

  var id = setInterval(autoPlay, 3000);
  
  $('#frame').mouseover(function(){
    clearInterval(id);
  });

  $('#frame').mouseout(function () {
    id = setInterval(autoPlay,2000);
  });
</script>
</body>
</html>